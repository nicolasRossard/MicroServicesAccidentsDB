<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta name="viewport" content="width = device-width, initial-scale = 1, shrink-to-fit = no">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
	<title>Accidents List App</title>
</head>

<body>
	<div class="container">
 		<nav class = "navbar navbar-expand-sm navbar-dark bg-secondary">   
            <div class = "collapse navbar-collapse" id = "navbarSupportedContent">
               <ul class = "navbar-nav mr-auto">
                  <li class = "nav-item">
                     <a class = "nav-link" href = "/">HOME</a>
                  </li>
                  <li class = "nav-item">
                     <a class = "nav-link" href = "/AccidentsDB/">Accidents</a>
                  </li>
                  <li class = "nav-item">
                     <a class = "nav-link" href = "/VictimsDB/">Victims</a>
                  </li>
                  <li class = "nav-item ">
                     <a class = "nav-link" href = "/VehiculesDB/">Vehicules</a>
                  </li>
               </ul>
            </div>
        </nav>
		<h2  class = "mt-4"><span th:text="${titleMessage}"> TITLE</h2>
		<table class="table">
			<thead class = "thead-light">
		        <tr>
		            <th class="text-left">Accident ID</th>
		            <th class="text-left">Year of accident</th>
		            <th class="text-left">Accident scene</th>
		            <th class="text-left">Weather conditions</th>
		            <th class="text-left"></th>
		            <th class="text-left"></th>
		        </tr>
		    </thead>
			<tbody>
				<tr th:each="accident : ${accidentsList}">
		            <td th:text="${accident.numAcc}">00000000</td>
		            <td th:text="${accident.year}">1900</td>
		            <td th:switch="${accident.agg}">
					    <span th:case=1 th:text="'Outside'" /> 
					    <span th:case=2 th:text="'Agglomeration'" />
					</td>

					<td th:switch="${accident.atm}">
					    <span th:case=1 th:text="'Normal'" /> 
					    <span th:case=2 th:text="'Light rain'" />
					    <span th:case=3 th:text="'Heavy rain'" />
					    <span th:case=4 th:text="'Snow-hail'" />
					    <span th:case=5 th:text="'Fog-smoke'" />
					    <span th:case=6 th:text="'Strong wind - storm'" />
					    <span th:case=7 th:text="'Dazzling weather'" />
					    <span th:case=8 th:text="'Cloudy weather'" />
					    <span th:case=9 th:text="'Other'" />
					    
					</td>
					<td><a href="#" class="btn btn-info" role="button"
					th:href="@{/AccidentsDB/AccidentFormPage(numAcc=${accident.numAcc},year=${accident.year},agg=${accident.agg},atm=${accident.atm})}">Update</a></td>
					<td><a class="btn btn-info" role="button"
					th:href="@{/AccidentsDB/Delete(idAcc=${accident.numAcc})}">Delete</a></td>
				</tr>
			</tbody>
		</table>
		<hr/>
		<div >
			<div>Number of Accidents   <span th:text="${numberOfAccidents}"></div>	 
		</div>
	</div>

	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
</body>
</html>